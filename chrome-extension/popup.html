<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nebula</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <!-- Header -->
    <header class="sticky-header">
        <div class="header-content">
            <h1>Nebula</h1>
            <button id="openWebsite" class="btn-header-web" title="Ouvrir Nebula Web">
                üåê
            </button>
            <button id="showQRCode" class="btn-header-qr" title="QR Code du site">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18">
                    <rect x="3" y="3" width="8" height="8" rx="1" fill="none" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="5" y="5" width="4" height="4" fill="currentColor"/>
                    <rect x="13" y="3" width="8" height="8" rx="1" fill="none" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="15" y="5" width="4" height="4" fill="currentColor"/>
                    <rect x="3" y="13" width="8" height="8" rx="1" fill="none" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="5" y="15" width="4" height="4" fill="currentColor"/>
                    <rect x="13" y="13" width="2" height="2" fill="currentColor"/>
                    <rect x="16" y="13" width="2" height="2" fill="currentColor"/>
                    <rect x="19" y="13" width="2" height="2" fill="currentColor"/>
                    <rect x="13" y="16" width="2" height="2" fill="currentColor"/>
                    <rect x="16" y="16" width="2" height="2" fill="currentColor"/>
                    <rect x="19" y="16" width="2" height="2" fill="currentColor"/>
                    <rect x="13" y="19" width="2" height="2" fill="currentColor"/>
                    <rect x="16" y="19" width="2" height="2" fill="currentColor"/>
                    <rect x="19" y="19" width="2" height="2" fill="currentColor"/>
                </svg>
            </button>
            <span id="status" class="status-badge">
                <span id="statusDot" class="status-dot"></span>
                <span class="status-text">D√©connect√©</span>
            </span>
        </div>
    </header>

    <!-- QR Code Modal -->
    <div id="qrModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>QR Code - Nebula</h2>
                <button id="closeQRModal" class="btn-close">‚úï</button>
            </div>
            <div class="modal-body">
                <div id="qrcode" class="qr-container"></div>
                <p class="qr-text">Scannez pour acc√©der √† Nebula</p>
                <p class="qr-url">https://nebula-a50x.onrender.com/</p>
            </div>
        </div>
    </div>

    <main>
        <!-- Configuration -->
        <section id="configSection" class="section">
            <div class="section-header">
                <h2>‚öôÔ∏è Configuration</h2>
            </div>
            <div class="section-body">
                <input type="text" id="serverUrl" class="input" placeholder="https://votre-serveur.onrender.com" />
                <button id="saveConfig" class="btn btn-primary">Sauvegarder</button>
            </div>
        </section>

        <!-- Upload -->
        <section id="uploadSection" class="section hidden">
            <div class="section-header">
                <h2>üì§ Envoyer un fichier</h2>
            </div>
            <div class="section-body">
                <input type="file" id="fileInput" multiple webkitdirectory directory hidden />
                <div class="upload-buttons">
                    <button id="selectFiles" class="btn btn-primary">üìÑ Fichier(s)</button>
                    <button id="selectFolder" class="btn btn-primary">üìÅ Dossier</button>
                </div>
                <div id="selectedFiles" class="selected-files hidden"></div>
                <div id="uploadProgress" class="progress-container hidden">
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                    <div id="progressText" class="progress-text">0%</div>
                </div>
            </div>
        </section>

        <!-- Files -->
        <section id="filesSection" class="section hidden">
            <div class="section-header">
                <h2>üìÅ Fichiers disponibles</h2>
            </div>
            <div class="section-body">
                <div id="filesList" class="file-list">
                    <p class="empty-state">Aucun fichier disponible</p>
                </div>
                <button id="refreshFiles" class="btn btn-secondary">üîÑ Actualiser</button>
            </div>
        </section>

        <!-- Devices -->
        <section id="devicesSection" class="section hidden">
            <div class="section-header">
                <h2>üñ•Ô∏è Appareils connect√©s</h2>
            </div>
            <div class="section-body">
                <div id="devicesList" class="device-list">
                    <p class="empty-state">Aucun appareil</p>
                </div>
            </div>
        </section>
    </main>
    
    <script src="lib/qrcode.min.js"></script>
    <script src="popup.js"></script>
</body>
</html>
